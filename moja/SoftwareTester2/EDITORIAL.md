それぞれのパラメータが最終的な答えにどの程度寄与するかを考えます。

あるパラメータ $i (1 \leq i \leq N)$ から、1つのパラメータの値 $p (1 \leq p \leq P_i)$ を選ぶ回数は、$i$ 番目以外のパラメータを選ぶ場合の数と等しいことが分かります。

上記の場合の数は
$
\frac{\prod_{j = 1}^{N}
P_j}{P_i}
$
で求めることができます。
割り算を行うにあたって、$mod\ 10^9+7$ の空間で $P_i$ の逆元を求める必要があるため $modinv$ などの関数を用意する必要があります。

パラメータの値1つ1つに対してこのまま計算を行おうとすると、パラメータ$i$に対して $P_i$ 回の計算が必要になり、制限時間内に回答することができません。
しかし、1つのパラメータであれば実際のパラメータの値が異なっていても、かける場合の数が等しくなるため、等差数列の和の公式を用いることでまとめて計算を行うことができます。

modの逆元を計算する部分に $O(\log{max({P_i}}))$ かかるため、最終的な計算量は $O(N\log{max({P_i}}))$ となります。

場合の数の計算に累積和を用いると $O(N)$ で回答することもできます。